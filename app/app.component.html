<app-flash-message></app-flash-message>

<div *ngIf="userRequest().is_authenticated" class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
  <!-- Header -->
  <div class="app-header header-shadow">
    <div class="app-header__logo">
        <img width="150" id="shipping-logo" src="assets/images/shipping-spot-logo.png" alt="">
        <div class="header__pane ml-auto">
            <div>
                <button (click)="closed_sidebar()" type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                    <span class="hamburger-box">
                        <span class="hamburger-inner"></span>
                    </span>
                </button>
            </div>
        </div>
    </div>
    <div class="app-header__mobile-menu">
      <div>
        <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
          <span class="hamburger-box">
            <span class="hamburger-inner"></span>
          </span>
        </button>
      </div>
    </div>
    <div class="app-header__content">
      <div class="app-header-left">
      </div>
      <app-header-component></app-header-component>
    </div>
  </div>

  <div class="app-main">
    <!-- Sidebar -->
    <div class="app-sidebar sidebar-shadow">
      <div class="app-header__logo">
          <div class="logo-src"></div>
          <div class="header__pane ml-auto">
              <div>
                  <button type="button" class="hamburger close-sidebar-btn hamburger--elastic" data-class="closed-sidebar">
                      <span class="hamburger-box">
                          <span class="hamburger-inner"></span>
                      </span>
                  </button>
              </div>
          </div>
      </div>
      <div class="scrollbar-sidebar">
        <div class="app-sidebar__inner">
          <ul class="vertical-nav-menu">
            <li class="app-sidebar__heading"></li>
            <li class="heading-content">
                <a (click)="arrow_rotation($event);">
                    <fa-icon [icon]="svg_icon.faClock"></fa-icon>&nbsp;
                    Dashboard
                    <fa-icon class="caret-left" [icon]="svg_icon.faChevronRight"></fa-icon>&nbsp;
                </a>
                <ul>
                    <li>
                        <a [routerLink]="['/dashboard', 'report']">
                            Report
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="metismenu-icon">
                            </i>Billing & Earnings
                        </a>
                    </li>
                </ul>
            </li>
            <li class="heading-content">
                <a (click)="arrow_rotation($event);">
                    <fa-icon [icon]="svg_icon.faUser"></fa-icon>&nbsp;
                    Account
                    <fa-icon class="caret-left" [icon]="svg_icon.faChevronRight"></fa-icon>&nbsp;
                </a>
                <ul>
                    <li>
                        <a [routerLink]="['/profile', this.user_role]">
                            <i class="metismenu-icon"></i>
                            My Profile
                        </a>
                    </li>
                    <li>
                        <a>
                            <i class="metismenu-icon">
                            </i>My Contacts
                        </a>
                    </li>
                </ul>
            </li>
            <li class="heading-content">
                <a (click)="arrow_rotation($event);">
                    <fa-icon [icon]="svg_icon.faGear"></fa-icon>&nbsp;
                    Settings
                    <fa-icon class="caret-left" [icon]="svg_icon.faChevronRight"></fa-icon>&nbsp;
                </a>
                <ul>
                    <li>
                        <a (click)="logout()" href="javascript:void(0);" class="nav-link">
                            <fa-icon [icon]="svg_icon.faRightFromBracket"></fa-icon>&nbsp;
                            Logout
                        </a>
                    </li>
                </ul>
            </li>
            <li>
                <a [routerLink]="['/rfq']">
                    <fa-icon [icon]="svg_icon.faCodePullRequest"></fa-icon>&nbsp; RFQ
                </a>
            </li>
            <li *ngIf="user_role === 'provider'">
                <a [routerLink]="['/rfq-jobs']">
                    <fa-icon [icon]="svg_icon.faBriefcase"></fa-icon>&nbsp; Job Requests
                </a>
            </li>
            <li *ngIf="user_role === 'provider'">
                <a [routerLink]="['/follow-requests']">
                    <fa-icon [icon]="svg_icon.faPaperPlane"></fa-icon>&nbsp; Follow Requests
                </a>
            </li>
            <li>
                <a [routerLink]="['/draft']">
                    <fa-icon [icon]="svg_icon.faPenRuler"></fa-icon>&nbsp; Draft
                </a>
            </li>
            <li>
                <a [routerLink]="['/archived']">
                    <fa-icon [icon]="svg_icon.faFolderMinus"></fa-icon>&nbsp; Archived
                </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Main App Content -->
    <div class="app-main__outer">
        <div class="app-main__inner">
          <div *ngIf="hasRoute('/rfq')" class="app-page-title">
            <div class="page-title-wrapper">
              <div class="page-title-heading">
                <div class="page-title-icon">
                  <i></i>
                </div>
                <div>
                  text
                  <div class="page-title-subheading">text2</div>
                </div>
              </div>
              <div class="page-title-actions">
                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#rfqg">+ Create RFQ</button>
              </div>
            </div>
          </div >
          <router-outlet></router-outlet>
        </div>
    </div>
  </div>
</div>

<div class="logging">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <!-- Login View -->
        <router-outlet *ngIf="routeName('login')" name="login">
          <div class="greeting text-center mt-4 mb-2">
            <h3>
              <b>Welcome to</b> ShippingSpot
            </h3>
          </div>
        </router-outlet>
        <!-- Register View -->
        <router-outlet *ngIf="routeName('register')" name="register"></router-outlet>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<app-page-title class="app-page-title"></app-page-title>

<app-spinner></app-spinner>

<app-page-remove-rfq></app-page-remove-rfq>
